{"remainingRequest":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/thread-loader/dist/cjs.js!/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/babel-loader/lib/index.js!/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/src/components/Board.vue?vue&type=template&id=153007f9&scoped=true","dependencies":[{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/src/components/Board.vue","mtime":1612165166413},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi0xNTMwMDdmOSIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtMTUzMDA3ZjkiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGlkOiAiYm9hcmQtZnJhbWUiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmJvYXJkQXJyYXksIGZ1bmN0aW9uIChyb3csIGluZGV4KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6ICJib2FyZC1yb3ciLAogICAgICBrZXk6IGluZGV4CiAgICB9LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KHJvdywgZnVuY3Rpb24gKHBvaW50LCBpbmRleCkgewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInNwYW4iLCB7CiAgICAgICAgY2xhc3M6ICJib2FyZC1wb2ludCIsCiAgICAgICAga2V5OiBpbmRleCwKICAgICAgICBpZDogcG9pbnQgIT09IDAgPyAncGxheWVyLXBvc2l0aW9uJyA6ICdlbXB0eS1wb3NpdGlvbicKICAgICAgfSwgW19jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcocG9pbnQgPT09IDAgPyAnbycgOiBwb2ludCksIDEpXSwgOCwgWyJpZCJdKTsKICAgIH0pLCAxMjgpKV0pOwogIH0pLCAxMjgpKV0pOwp9KTs="},{"version":3,"sources":["/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/src/components/Board.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,EAAE,EAAC;;;;;;uBAAR,YAAA,CAeM,KAfN,EAAA,UAAA,EAeM,E,kBAdJ,YAAA,CAaM,SAbN,EAaM,IAbN,EAaM,WAAA,CAXmB,KAAA,CAAA,UAWnB,EAX6B,UAAzB,GAAyB,EAApB,KAAoB,EAAf;yBAFpB,YAAA,CAaM,KAbN,EAaM;AAZJ,MAAA,KAAK,EAAC,WAYF;AAVH,MAAA,GAAG,EAAE;AAUF,KAbN,E,oBAKE,YAAA,CAOO,SAPP,EAOO,IAPP,EAOO,WAAA,CALoB,GAKpB,EALuB,UAApB,KAAoB,EAAb,KAAa,EAAR;2BAFtB,YAAA,CAOO,MAPP,EAOO;AANL,QAAA,KAAK,EAAC,aAMD;AAJJ,QAAA,GAAG,EAAE,KAID;AAHE,QAAA,EAAE,EAAE,KAAK,KAAA,CAAL,GAAK,iBAAL,GAAK;AAGX,OAPP,E,CAME,YAAA,CAA6C,MAA7C,EAA6C,IAA7C,EAA6C,gBAAA,CAAnC,KAAK,KAAA,CAAL,GAAK,GAAL,GAAoB,KAAe,CAA7C,EAAmC,CAAnC,C,CANF,E,CAAA,E,MAAA,C;KAOO,CAPP,E,GAAA,C,EALF,C;GAaM,CAbN,E,GAAA,CAcI,EAfN,C","sourcesContent":["<template>\n  <div id=\"board-frame\">\n    <div\n      class=\"board-row\"\n      v-for=\"(row, index) in boardArray\"\n      :key=\"index\"\n    >\n      <span\n        class=\"board-point\"\n        v-for=\"(point, index) in row\"\n        :key=\"index\"\n        v-bind:id=\"point !== 0? 'player-position': 'empty-position'\"\n      >\n        <span> {{ point === 0 ? 'o' : point }}</span>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport boardData from '../assets/board.json';\n\nexport default {\n  name: 'Board',\n  components: {},\n  props: {\n    numberOfPlayers: {\n      type: Number,\n      required: true\n    },\n    reRandomise: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data () {\n    return {\n      boardRows: boardData.rowLengths,\n      boardArray: []\n    }\n  },\n  methods: {\n    createEmptyBoardArray() {\n      let tempArray = [];\n      this.boardRows.forEach((rowLength) => {\n        tempArray.push(Array(rowLength).fill(0));\n      });\n\n      this.boardArray = tempArray;\n      return tempArray;\n    },\n\n    randomisePlayers() {\n\n      let tempBoardArray = this.createEmptyBoardArray();\n      //  = this.boardArray;\n      const totalBoardRows = 12;\n      let playerPositions = [];\n      for (let i = 0; i < this.numberOfPlayers; i++) { playerPositions.push([]) }\n\n      const getRandomPlayerPos = () => {\n        const playerRow = Math.floor(Math.random() * totalBoardRows);\n        const playerCol = Math.floor(Math.random(tempBoardArray[playerRow].length)\n                          * tempBoardArray[playerRow].length);\n        const playerPos = [playerRow, playerCol];\n\n        return playerPos;\n      }\n\n      const addPlayerPositionsToBoard = () => {\n        playerPositions.forEach((pos, index) => {\n          tempBoardArray[pos[0][0]][pos[0][1]] = index + 1;\n          tempBoardArray[pos[1][0]][pos[1][1]] = index + 1;\n        })\n\n      }\n\n\n      for (let i = 0; i < 2; i++ ) {\n        for ( let j = 0; j < this.numberOfPlayers; j++ ) {\n          let satifiesRequirements = false;\n\n          while ( !satifiesRequirements ) {\n            let tempPlayerPos = getRandomPlayerPos();\n\n            let allPointsSatisfy = true;\n\n            playerPositions.flat().forEach((pos) => {\n              const neighbours = [[0,0], [-1, -1], [-1, 0], [-1, 1], [0, 1],\n                                  [1, 1], [1, 0], [1, -1], [0, -1]];\n              neighbours.forEach((neighbour) => {\n                const x = tempPlayerPos[0] + neighbour[0];\n                const y = tempPlayerPos[1] + neighbour[1];\n\n                const isNeighbourOnBoard = (x >= 0 &&\n                                          x < totalBoardRows &&\n                                          y >= 0 &&\n                                          y < tempBoardArray[tempPlayerPos[0]].length);\n\n                if (isNeighbourOnBoard && (pos[0] === x  && pos[1] === y)) {\n                  allPointsSatisfy = false;\n                }\n              });\n            });\n\n            if (allPointsSatisfy) {\n              playerPositions[j].push(tempPlayerPos);\n              satifiesRequirements = true;\n            }\n          }\n        }\n      }\n\n      addPlayerPositionsToBoard();\n    }\n  },\n  mounted() {\n    this.randomisePlayers();\n  },\n  watch: {\n    numberOfPlayers () {\n      this.randomisePlayers();\n    },\n    reRandomise () {\n      this.randomisePlayers();\n      this.$emit('setReRandomiseToFalse')\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  #board-frame {\n    max-width: 500px;\n    max-height: 500px;\n    width: 90vw;\n    height: 90vw;\n    border: 1px rgb(62, 62, 66) solid;\n    padding: 12px 0;\n\n    display: flex;\n    flex-direction: column;\n\n    .board-row {\n      height: calc(100% / 12);\n      width: 100%;\n      text-align: center;\n    }\n\n    .board-point {\n      display: inline-block;\n      width: calc(100% / 6);\n      font-size: 12px;\n      height: 100%;\n      text-align: center;\n    }\n\n    #player-position {\n      font-weight: bold;\n      font-size: 12px;\n    }\n\n    #empty-position {\n      font-size: 10px;\n    }\n  }\n\n</style>\n"],"sourceRoot":""}]}