{"remainingRequest":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/src/components/Board.vue?vue&type=template&id=e1ee1034&scoped=true","dependencies":[{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/src/components/Board.vue","mtime":1612144765785},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/cache-loader/dist/cjs.js","mtime":1611043104458},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/babel-loader/lib/index.js","mtime":1611043104456},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1611043107951},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/cache-loader/dist/cjs.js","mtime":1611043104458},{"path":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/node_modules/vue-loader-v16/dist/index.js","mtime":1611043107951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBpZD0iYm9hcmQtZnJhbWUiPgogICAgPGRpdgogICAgICBjbGFzcz0iYm9hcmQtcm93IgogICAgICB2LWZvcj0iKHJvdywgaW5kZXgpIGluIGJvYXJkQXJyYXkiCiAgICAgIDprZXk9ImluZGV4IgogICAgPgogICAgICA8c3BhbgogICAgICAgIGNsYXNzPSJib2FyZC1wb2ludCIKICAgICAgICB2LWZvcj0iKHBvaW50LCBpbmRleCkgaW4gcm93IgogICAgICAgIDprZXk9ImluZGV4IgogICAgICA+CiAgICAgICAgPHNwYW4+IHt7cG9pbnR9fTwvc3Bhbj4KICAgICAgPC9zcGFuPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/src/components/Board.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb;MACE,CAAC,CAAC,CAAC,CAAC;QACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb;QACE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/jacob/Documents/Post-Bootcamp/vue-projects/catan-randomiser/src/components/Board.vue","sourceRoot":"","sourcesContent":["<template>\n  <div id=\"board-frame\">\n    <div\n      class=\"board-row\"\n      v-for=\"(row, index) in boardArray\"\n      :key=\"index\"\n    >\n      <span\n        class=\"board-point\"\n        v-for=\"(point, index) in row\"\n        :key=\"index\"\n      >\n        <span> {{point}}</span>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport boardData from '../assets/board.json';\n\nexport default {\n  name: 'Board',\n  components: {},\n  props: {\n    numberOfPlayers: {\n      type: Number,\n      required: true\n    }\n  },\n  data () {\n    return {\n      boardRows: boardData.rowLengths,\n      boardArray: []\n    }\n  },\n  methods: {\n    createEmptyBoardArray() {\n      let tempArray = [];\n      this.boardRows.forEach((rowLength) => {\n        tempArray.push(Array(rowLength).fill(0));\n      });\n\n      this.boardArray = tempArray;\n    },\n\n    randomisePlayers() {\n      let tempBoardArray = this.boardArray;\n      const totalBoardRows = 12;\n      let playerPositions = [[], [], []];\n\n      const getRandomPlayerPos = () => {\n        const playerRow = Math.floor(Math.random() * totalBoardRows);\n        const playerCol = Math.floor(Math.random(tempBoardArray[playerRow].length)\n                          * tempBoardArray[playerRow].length);\n        const playerPos = [playerRow, playerCol];\n\n        return playerPos;\n      }\n\n      const addPlayerPositionsToBoard = () => {\n        playerPositions.forEach((pos, index) => {\n          tempBoardArray[pos[0][0]][pos[0][1]] = index + 1;\n          tempBoardArray[pos[1][0]][pos[1][1]] = index + 1;\n        })\n\n      }\n\n\n      for (let i = 0; i < 2; i++ ) {\n        for ( let j = 0; j < 3; j++ ) {\n          let satifiesRequirements = false;\n\n          while ( !satifiesRequirements ) {\n            let tempPlayerPos = getRandomPlayerPos();\n\n            let allPointsSatisfy = true;\n\n            playerPositions.flat().forEach((pos) => {\n              const neighbours = [[0,0], [-1, -1], [-1, 0], [-1, 1], [0, 1],\n                                  [1, 1], [1, 0], [1, -1], [0, -1]];\n              neighbours.forEach((neighbour) => {\n                const x = tempPlayerPos[0] + neighbour[0];\n                const y = tempPlayerPos[1] + neighbour[1];\n\n                const isNeighbourOnBoard = (x >= 0 &&\n                                          x < totalBoardRows &&\n                                          y >= 0 &&\n                                          y < tempBoardArray[tempPlayerPos[0]].length);\n\n                if (isNeighbourOnBoard && (pos[0] === x  && pos[1] === y)) {\n                  allPointsSatisfy = false;\n                }\n              });\n            });\n\n            if (allPointsSatisfy) {\n              playerPositions[j].push(tempPlayerPos);\n              satifiesRequirements = true;\n            }\n          }\n        }\n      }\n\n      addPlayerPositionsToBoard();\n    }\n  },\n  mounted() {\n    this.createEmptyBoardArray()\n  },\n  watch: {\n    boardArray() {\n      this.randomisePlayers();\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  #board-frame {\n    max-width: 500px;\n    max-height: 500px;\n    width: 90vw;\n    height: 90vw;\n    border: 1px rgb(62, 62, 66) solid;\n    padding: 12px 0;\n\n    display: flex;\n    flex-direction: column;\n\n    .board-row {\n      height: calc(100% / 12);\n      width: 100%;\n      text-align: center;\n      // display: flex;\n    }\n\n    .board-point {\n      display: inline-block;\n      width: calc(100% / 6);\n      font-size: 12px;\n      height: 100%;\n      text-align: center;\n    }\n  }\n\n</style>\n"]}]}